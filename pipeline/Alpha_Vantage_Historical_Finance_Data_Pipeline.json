{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"factoryName":{"type":"string","metadata":"Data Factory name"},"AAPL":{"type":"string"},"NewsAPI1":{"type":"string"},"TSLA":{"type":"string"},"INTC":{"type":"string"},"NVDA":{"type":"string"},"LAZR":{"type":"string"}},"variables":{"factoryId":"[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"},"resources":[{"name":"[concat(parameters('factoryName'), '/Alpha_Vantage_Historical_Finance_Data_Pipeline')]","type":"Microsoft.DataFactory/factories/pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"AAPL_Ticker","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"JsonSource","storeSettings":{"type":"HttpReadSettings","requestMethod":"GET"},"formatSettings":{"type":"JsonReadSettings"}},"sink":{"type":"JsonSink","storeSettings":{"type":"AzureBlobFSWriteSettings"},"formatSettings":{"type":"JsonWriteSettings"}},"enableStaging":false},"inputs":[{"referenceName":"AAPL_Ticker_Data","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"Json1","type":"DatasetReference","parameters":{}}]},{"name":"TSLA_Ticker","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"JsonSource","storeSettings":{"type":"HttpReadSettings","requestMethod":"GET"},"formatSettings":{"type":"JsonReadSettings"}},"sink":{"type":"JsonSink","storeSettings":{"type":"AzureBlobFSWriteSettings"},"formatSettings":{"type":"JsonWriteSettings"}},"enableStaging":false},"inputs":[{"referenceName":"TSLA_Ticker_Data","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"Json2","type":"DatasetReference","parameters":{}}]},{"name":"INTC_Ticker","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"JsonSource","storeSettings":{"type":"HttpReadSettings","requestMethod":"GET"},"formatSettings":{"type":"JsonReadSettings"}},"sink":{"type":"JsonSink","storeSettings":{"type":"AzureBlobFSWriteSettings"},"formatSettings":{"type":"JsonWriteSettings"}},"enableStaging":false},"inputs":[{"referenceName":"INTC_Ticker_Data","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"Json3","type":"DatasetReference","parameters":{}}]},{"name":"NVDA_Ticker","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"JsonSource","storeSettings":{"type":"HttpReadSettings","requestMethod":"GET"},"formatSettings":{"type":"JsonReadSettings"}},"sink":{"type":"JsonSink","storeSettings":{"type":"AzureBlobFSWriteSettings"},"formatSettings":{"type":"JsonWriteSettings"}},"enableStaging":false},"inputs":[{"referenceName":"NVDA_Ticker_Data","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"Json4","type":"DatasetReference","parameters":{}}]},{"name":"LAZR_Ticker","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[],"typeProperties":{"source":{"type":"JsonSource","storeSettings":{"type":"HttpReadSettings","requestMethod":"GET"},"formatSettings":{"type":"JsonReadSettings"}},"sink":{"type":"JsonSink","storeSettings":{"type":"AzureBlobFSWriteSettings"},"formatSettings":{"type":"JsonWriteSettings"}},"enableStaging":false},"inputs":[{"referenceName":"LAZR_Ticker_Data","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"Json5","type":"DatasetReference","parameters":{}}]}],"policy":{"elapsedTimeMetric":{}},"annotations":[],"lastPublishTime":"2024-11-05T23:49:41Z"},"dependsOn":["[concat(variables('factoryId'), '/datasets/AAPL_Ticker_Data')]","[concat(variables('factoryId'), '/datasets/Json1')]","[concat(variables('factoryId'), '/datasets/TSLA_Ticker_Data')]","[concat(variables('factoryId'), '/datasets/Json2')]","[concat(variables('factoryId'), '/datasets/INTC_Ticker_Data')]","[concat(variables('factoryId'), '/datasets/Json3')]","[concat(variables('factoryId'), '/datasets/NVDA_Ticker_Data')]","[concat(variables('factoryId'), '/datasets/Json4')]","[concat(variables('factoryId'), '/datasets/LAZR_Ticker_Data')]","[concat(variables('factoryId'), '/datasets/Json5')]"]},{"name":"[concat(parameters('factoryName'), '/AAPL_Ticker_Data')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('AAPL')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"HttpServerLocation","relativeUrl":"/query?function=TIME_SERIES_DAILY&symbol=LAZR&outputsize=full&apikey=5OPV9WQVZ8HF8F8S"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/Json1')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NewsAPI1')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"AzureBlobFSLocation","folderPath":"Bronze/Ticker_Data/AAPL_Data","fileSystem":"storage"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/TSLA_Ticker_Data')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('TSLA')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"HttpServerLocation","relativeUrl":{"value":"v7/finance/download/AAPL?period1=1609459200&period2=1640995200&interval=1d&events=history\n","type":"Expression"}}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/Json2')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NewsAPI1')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"AzureBlobFSLocation","folderPath":"Bronze/Ticker_Data/TSLA_Data","fileSystem":"storage"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/INTC_Ticker_Data')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('INTC')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"HttpServerLocation","relativeUrl":"/query?function=TIME_SERIES_DAILY&symbol=LAZR&outputsize=full&apikey=5OPV9WQVZ8HF8F8S"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/Json3')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NewsAPI1')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"AzureBlobFSLocation","folderPath":"Bronze/Ticker_Data/INTC_Data","fileSystem":"storage"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/NVDA_Ticker_Data')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NVDA')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"HttpServerLocation","relativeUrl":"/query?function=TIME_SERIES_DAILY&symbol=LAZR&outputsize=full&apikey=5OPV9WQVZ8HF8F8S"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/Json4')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NewsAPI1')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"AzureBlobFSLocation","folderPath":"Bronze/Ticker_Data/NVDA_Data","fileSystem":"storage"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/LAZR_Ticker_Data')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('LAZR')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"HttpServerLocation","relativeUrl":"/query?function=TIME_SERIES_DAILY&symbol=LAZR&outputsize=full&apikey=5OPV9WQVZ8HF8F8S"}},"schema":{}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/Json5')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('NewsAPI1')]","type":"LinkedServiceReference"},"annotations":[],"type":"Json","typeProperties":{"location":{"type":"AzureBlobFSLocation","folderPath":"Bronze/Ticker_Data/LAZR_Data","fileSystem":"storage"}},"schema":{}},"dependsOn":[]}]}